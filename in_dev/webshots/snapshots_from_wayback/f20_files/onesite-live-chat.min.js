"use strict";angular.module("onesite.live.chat",["onesite.live.chat.directives","onesite.live.chat.services"]);
"use strict";angular.module("onesite.live.chat.directives",[]).directive("onesiteLiveChat",["redirectService","liveChatService","scopeService","stringService","$parse",function(a,i,n,l,e){var o=e("node.content.id"),r=e("node.content.lang"),s={en:"https://web.archive.org/web/20200220013359/https://www.webchat.ccm2.gov.on.ca/EO_Webchat/iceMessagingWeb/Chat.html?destinationURI=sip:im_990a_sw03@ccm2.gov.on.ca&lang=en-CA",fr:"https://web.archive.org/web/20200220013359/https://www.webchat.ccm2.gov.on.ca/EO_Webchat/iceMessagingWeb/Chat.html?destinationURI=sip:im_990a_sw03@ccm2.gov.on.ca&lang=fr-CA"},c={en:"page/employment-ontario-live-chat",fr:"fr/page/clavardage-avec-emploi-ontario"},u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{restrict:"E",transclude:!0,scope:{title:"@"},replace:!0,templateUrl:function(e,t){var a=angular.isString(t.type)?angular.lowercase(t.type.trim()):null;return"body"===a?"/onesite_modules/onesite-live-chat/partials/type-body.html":"right"===a?"/onesite_modules/onesite-live-chat/partials/type-right.html":"info"===a?"/onesite_modules/onesite-live-chat/partials/type-info-page.html":"/onesite_modules/onesite-live-chat/partials/type-body.html"},link:function(t){var e=o(n.getMainController());t.lang=r(n.getMainController()),t.urlLiveChat=s,t.urlLiveChatInfo=c,t.aliasToPath=a.aliasToPath,i.businessHourHandler.submit(e).then(function(e){t.businessHour=e,t.nextAvailable=e.nextAvailable?{day:u[e.nextAvailable.getDay()],hour:e.nextAvailable.getHours(),minute:l.addLeadingZeroMonth(e.nextAvailable.getMinutes())}:null})}}}]);
"use strict";angular.module("onesite.live.chat.services",[]).factory("liveChatDaoService",["$http","$q","apiEndpointConfig","getterFactory","dataBindingService",function(t,n,a,r,u){var e={},o={isAvailable:r.instantiate("data.isAvailable"),nextAvailable:function(e){var i=r.instantiate("data.nextAvailable")(e);return angular.isString(i)&&""!==i.trim()&&(i=parseInt(i)),angular.isNumber(i)?new Date(1e3*i):null}};return e.api=function(){var e=[a["onesite.live.chat"].apiServiceCrossDomain,a["onesite.live.chat"].apiService].join("/"),i=n.defer();return t({url:e,method:"GET"}).then(function(e){i.resolve(u.bindData(e,o))},function(){i.reject()}),i.promise},e}]).factory("liveChatService",["liveChatDaoService",function(n){var e={};return e.businessHourHandler=new function(){return{submit:function(e){return function(e){return angular.isString(i)&&e===i}(e)||(i=e,t=n.api()),t}};var i,t},e}]);
/*
     FILE ARCHIVED ON 01:33:59 Feb 20, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:21:45 Mar 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  PetaboxLoader3.resolve: 155.679 (2)
  load_resource: 241.611
  esindex: 0.013
  PetaboxLoader3.datanode: 129.256 (6)
  exclusion.robots.policy: 0.166
  CDXLines.iter: 111.822 (4)
  RedisCDXSource: 1.547
  exclusion.robots: 0.179
  LoadShardBlock: 84.582 (4)
  captures_list: 1283.146
*/