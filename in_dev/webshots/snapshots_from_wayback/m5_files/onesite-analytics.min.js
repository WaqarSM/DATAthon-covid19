"use strict";angular.module("onesite.analytics",["angulartics","angulartics.google.tagmanager","onesite.analytics.directives","onesite.analytics.filters","onesite.analytics.services"]).config(["$analyticsProvider",function(e){e.settings.trackRelativePath=!0,e.registerEventTrack(function(e,t){if(t.category=t.category||"missing-category",t.value){var n=parseInt(t.value,10);t.value=isNaN(n)?0:n}if(window.ga){for(var i={eventCategory:t.category,eventAction:e||null,eventLabel:t.label||null,eventValue:0===t.value?0:t.value||null,nonInteraction:t.noninteraction||null},a=1;a<=20;a++)t["dimension"+a.toString()]&&(i["dimension"+a.toString()]=t["dimension"+a.toString()]),t["metric"+a.toString()]&&(i["metric"+a.toString()]=t["metric"+a.toString()]);ga("send","event",i)}})}]);
"use strict";angular.module("onesite.analytics.directives",[]).directive("scrollToBottom",["$window","analyticsTypeaheadService","analyticsEventService",function(n,c,t){return{restrict:"E",scope:!0,template:['<div ng-init="sighted=false" ng-if="( !sighted && sightedCheck() ) && (sighted = true)">',"</div>"].join(""),link:function(e,i){var o=t();e.sightedCheck=function(){var e=n.scrollY+n.innerHeight||document.documentElement.scrollTop+angular.element("body")[0].offsetHeight,t=70<(n.scrollY||document.documentElement.scrollTop)&&e>i.offset().top;return t&&c("Body",o,["scroll-to-bottom"]),t}}}}]);
"use strict";angular.module("onesite.analytics.services",[]).service("analyticsAttributeService",["analyticsEventService",function(r){return function(e,a){a=a||"Body";var n=angular.element("<div>"+e+"</div>"),t=n.find("a");return angular.isObject(t[0])&&angular.forEach(t,function(e){var n=[],t="",i=angular.element(e);n[0]=i.text().trim(),n[1]=i.attr("href"),t="faq"!==a?r(i.attr("href")):"link",i.attr({"analytics-on":"click","analytics-category":a,"analytics-event":t,"analytics-label":n.join("||")})}),n.html()}}]).service("analyticsEventService",["scopeService","$parse",function(i,a){return function(e){var n,t="";return e&&(t=e.match(/(\/{2})([\S]+?)(\/)/i)),n=a("node.content.ministry")(i.getMainController())||a("node.ministerFooter.ministry")(i.getMainController())||"Cabinet Office",t&&-1===(t=t[2]).indexOf("ontario.ca")&&-1===t.indexOf("ontariogovernment.ca")&&-1===t.indexOf("serviceontario.com")&&(n=t),n}}]).service("analyticsTypeaheadService",[function(){return function(e,n,t,i){var a={eventCategory:e||"missing-category",eventAction:n,eventLabel:void 0!==t?t.join("||"):null,eventValue:void 0!==i?parseInt(i):null};ga("send","event",a)}}]).service("analyticsErrorService",[function(){return function(e,n,t){var i,a,r="",c=e.errorStatus||"application";t&&(i=t.match(/[^\/](\/\??\w.*)/))&&(r=i[1]),a={eventCategory:"error-"+c,eventAction:e.errorReason,eventLabel:n.alias+"||"+r},ga("send","event",a)}}]).service("analyticsImmunizationService",[function(){return function(e,n,t,i){ga("send","event",{eventCategory:e||"missing-category",eventAction:n,eventLabel:t,eventValue:i})}}]).service("analyticsPageViewService",["$timeout",function(e){this.logPageView=function(){e(function(){ga("send","pageview",location.pathname+location.search)},0)}}]);
"use strict";angular.module("onesite.analytics.filters",[]).filter("analyticsEvent",["analyticsEventService",function(t){return t}]).filter("analyticsAutocompleteType",[function(){return function(t){return"promoted_content"===t?"-promoted":""}}]);
/*
     FILE ARCHIVED ON 15:44:29 Mar 05, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:23:53 Mar 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  esindex: 0.014
  PetaboxLoader3.datanode: 165.481 (5)
  exclusion.robots: 0.225
  captures_list: 1131.506
  RedisCDXSource: 1.942
  LoadShardBlock: 169.882 (4)
  exclusion.robots.policy: 0.211
  load_resource: 37.056
  PetaboxLoader3.resolve: 31.409
  CDXLines.iter: 99.348 (4)
*/