"use strict";angular.module("onesite.moment",["onesite.moment.services","onesite.moment.controllers","onesite.moment.factories","onesite.moment.directives"]);
"use strict";angular.module("onesite.moment.factories",[]).directive("onesiteDateRange",[function(){return{restrict:"E",scope:{type:"@",date:"@",dateMin:"@",dateMax:"@",dateMinYearOffset:"=",dateMinMonthOffset:"=",dateMinDayOffset:"=",dateMinFloor:"@",dateMaxYearOffset:"=",dateMaxMonthOffset:"=",dateMaxDayOffset:"=",dateMaxCeil:"@",model:"="},replace:!1,template:['<onesite-date-range-impl ng-switch="type">','<onesite-fisical-date-range ng-switch-when="fisical"/>','<onesite-tax-date-range ng-switch-when="tax"/>',"<onesite-generic-date-range ng-switch-default/>","</onesite-date-range-impl>"].join("")}}]);
"use strict";angular.module("onesite.moment.services",[]).factory("timeService",[function(){var t={localDateToUtcTimeStamp:function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)},localDateToString:function(){return[this.getMonth()+1,this.getDate(),this.getFullYear()].join("-")},localDateFormat:function(t){var n={year:this.getFullYear(),month:this.toLocaleString(t,{month:"long"}),date:this.getDate()},a={en:function(){return n.month+" "+n.date+", "+n.year},fr:function(){return n.date+" "+angular.lowercase(n.month)+" "+n.year}};return(a[t]||a.en)()},addYear:function(t){return moment(this).add(t,"year").toDate()},addMonth:function(t){return moment(this).add(t,"month").toDate()},addDay:function(t){return moment(this).add(t,"day").toDate()},strToDate:function(t){return moment(t,"MM-DD-YYYY").toDate()},daysInMonth:function(t,n){return moment([t,n+1].join("-"),"YYYY-M").daysInMonth()}};return t}]).factory("timeSpanService",["timeService",function(c){var t={},l=function(t,n){return a=c.strToDate(t),e=c.strToDate(n),o=c.localDateToUtcTimeStamp.call(e)-c.localDateToUtcTimeStamp.call(a),r={fromLocalDate:a,toLocalDate:e,toMilliseconds:function(){return r.length=o,r.length},toSeconds:function(){return r.toMilliseconds(),r.length=r.length/1e3,r.length},toMinutes:function(){return r.toSeconds(),r.length=r.length/60,r.length},toHours:function(){return r.toMinutes(),r.length=r.length/60,r.length},toDays:function(){return r.toHours(),r.length=r.length/24,r.length},toMonths:function(){return function(){for(var t=Math.ceil(this.toDays()/28),n=c.addMonth.call(this.fromLocalDate,t);this.toMilliseconds()<c.localDateToUtcTimeStamp.call(n)-c.localDateToUtcTimeStamp.call(this.fromLocalDate);)n=c.addMonth.call(this.fromLocalDate,--t);var a=new l(c.localDateToString.call(n),c.localDateToString.call(this.toLocalDate));return{month:t,day:angular.isFunction(a.toDays)?a.toDays():0}}.call(r)},toYears:function(){return function(){for(var t=Math.ceil(this.toDays()/365),n=c.addYear.call(this.fromLocalDate,t);this.toMilliseconds()<c.localDateToUtcTimeStamp.call(n)-c.localDateToUtcTimeStamp.call(this.fromLocalDate);)n=c.addYear.call(this.fromLocalDate,--t);var a=new l(c.localDateToString.call(n),c.localDateToString.call(this.toLocalDate));return angular.extend({year:t},angular.isFunction(a.toMonths)?a.toMonths():{month:0,day:0})}.call(r)},ltNumDay:function(t){return r.toDays()<t},gtNumDay:function(t){return r.toDays()>t},ltNumMonth:function(t){return o<c.localDateToUtcTimeStamp.call(c.addMonth.call(a,t))-c.localDateToUtcTimeStamp.call(a)},gtNumMonth:function(t){return o>c.localDateToUtcTimeStamp.call(c.addMonth.call(a,t))-c.localDateToUtcTimeStamp.call(a)},ltNumYear:function(t){return o<c.localDateToUtcTimeStamp.call(c.addYear.call(a,t))-c.localDateToUtcTimeStamp.call(a)},gtNumYear:function(t){return o>c.localDateToUtcTimeStamp.call(c.addYear.call(a,t))-c.localDateToUtcTimeStamp.call(a)},startAfterDate:function(t){return c.localDateToUtcTimeStamp.call(a)>c.localDateToUtcTimeStamp.call(t)},startBeforeDate:function(t){return c.localDateToUtcTimeStamp.call(a)<c.localDateToUtcTimeStamp.call(t)},endAfterDate:function(t){return c.localDateToUtcTimeStamp.call(e)>c.localDateToUtcTimeStamp.call(t)},endBeforeDate:function(t){return c.localDateToUtcTimeStamp.call(e)<c.localDateToUtcTimeStamp.call(t)},getDateWhenTurnsNumDay:function(t){return c.addDay.call(a,t)},getDateWhenTurnsNumMonth:function(t){return c.addMonth.call(a,t)},getDateWhenTurnsNumYear:function(t){return c.addYear.call(a,t)}},angular.isNumber(o)?r:null;var a,e,o,r};return t.getTimeSpan=function(t,n){return new l(t,n)},t}]).factory("seasonService",["timeSpanService",function(a){var t={},e={spring:{month:2,date:{min:20,max:21}},summer:{month:5,date:{min:21,max:22}},autumn:{month:8,date:{min:22,max:23}},winter:{month:11,date:{min:21,max:22}}};e.spring.next=e.summer,e.summer.next=e.autumn,e.autumn.next=e.winter,e.winter.next=e.spring;function n(t){function r(t){var n=e[this];return{start:a.getTimeSpan([n.month+1,n.date.min,t].join("-"),[n.month+1,n.date.max,t].join("-")),end:a.getTimeSpan([n.next.month+1,n.next.date.min,t+("winter"===this?1:0)].join("-"),[n.next.month+1,n.next.date.max,t+("winter"===this?1:0)].join("-"))}}var c;return c=t,{getClosest:function(t,n){var a=t.getFullYear(),e=r.call(c,a),o=e.end;return n&&!o.startAfterDate(t)&&(e=r.call(c,++a)),e}}}return t.getSeason=function(t){return new n(t)},t}]).factory("calendarEventService",["stringService","onesiteFoundationService",function(n,e){function r(t){return[n.addLeadingZeroYear(t.getFullYear()),n.addLeadingZeroMonth(t.getMonth()+1),n.addLeadingZeroDay(t.getDate())].join("")}var t={};function c(t){return["BEGIN:VCALENDAR","VERSION:2.0"].concat(t).concat(["END:VCALENDAR"]).join("\r\n")}function l(t,n,a,e){var o=[];return angular.forEach(function(t,n,a){return{CLASS:"PRIVATE",DESCRIPTION:angular.isArray(a)?a.join("\\n"):a,"DTSTART;VALUE=DATE":r(t),"SUMMARY;LANGUAGE=en-us":angular.isArray(n)?n.join("\\n"):n,TRANSP:"TRANSPARENT"}}(t,n,a),function(t,n){o.push([n,t].join(":"))}),["BEGIN:VEVENT"].concat(e?function(t,n){return t.concat(["BEGIN:VALARM","TRIGGER: -PT1D","ACTION:DISPLAY","DESCRIPTION:"+n,"END:VALARM"])}(o,n):o).concat(["END:VEVENT"])}function i(t){return["BEGIN:VCALENDAR","VERSION:1.0"].concat(t).concat(["END:VCALENDAR"]).join("\r\n")}function u(t,n,a){return{CLASS:"PRIVATE",DESCRIPTION:angular.isArray(a)?a.join("\\n"):a,DTSTART:r(t),DTEND:r(t),DURATION_SECONDS:"0",SUMMARY:angular.isArray(n)?n.join("\\n"):n,TRANSP:"1"}}function o(t,n,a){var e=r(t);return{action:"TEMPLATE",dates:e+"/"+r(window.moment(e,"YYYYMMDD").add(1,"day").toDate()),text:angular.isArray(n)?n.join("\n"):n,details:angular.isArray(a)?a.join("\n"):a}}function m(t,n,a){var e=r(t);return{view:"e",action:"TEMPLATE",dates:e+"/"+e,text:angular.isArray(n)?n.join("\n"):n,details:angular.isArray(a)?a.join("\n"):a}}function s(t,n,a){var e=[];return angular.forEach(this(t,n,a),function(t,n){e.push([n,t].join("="))}),e.join("&")}return t.ics={makeEvent:function(t,n,a,e,o){var r=c(l(t,n,a,e));return o?new Blob([r],{type:"text/plain"}):"data:text/calendar;charset=utf8,"+encodeURI(r)},makeEventList:function(t,n){var a=c(function(t){return t.reduce(function(t,n){return t.concat(l(n.date,n.summary,n.description,n.doRemind))},[])}(t));return n?new Blob([a],{type:"text/plain"}):"data:text/calendar;charset=utf8,"+encodeURI(a)}},t.vcs={makeEvent:function(t,n,a,e){var o=i(function(t,n,a){var e=[];return angular.forEach(u(t,n,a),function(t,n){e.push([n,t].join(":"))}),["BEGIN:VEVENT"].concat(e).concat(["END:VEVENT"])}(t,n,a));return e?new Blob([o],{type:"text/plain"}):"data:text/calendar;charset=utf8,"+encodeURI(o)},makeEventList:function(t,n){var a=i(function(t){return t.reduce(function(t,n){return t.concat(u(n.date,n.summary,n.description))},[])}(t));return n?new Blob([a],{type:"text/plain"}):"data:text/calendar;charset=utf8,"+encodeURI(a)}},t.googleCalendar={makeEvent:function(t,n,a){return e.windowSizes["show-for-medium-down"]?"https://web.archive.org/web/20200305091804/https://www.google.com/calendar/gpcal#~calendar:"+encodeURI(s.call(m,t,n,a)):"https://web.archive.org/web/20200305091804/https://www.google.com/calendar/render?"+encodeURI(s.call(o,t,n,a))}},t}]);
"use strict";angular.module("onesite.moment.controllers",[]).controller("OnesiteDateAddImpl",["stringService","timeService",function(i,u){var o=this;o.add=function(n,t,r,e){var a=i.strToDate(n);angular.isNumber(t)&&(a=u.addYear.call(a,t)),angular.isNumber(r)&&(a=u.addMonth.call(a,r)),angular.isNumber(e)&&(a=u.addDay.call(a,e)),o.date=a}}]).controller("OnesiteDateSelectorImpl",["stringService","timeService",function(i,n){function c(n){return angular.isNumber(n)&&!isNaN(n)}var h=this;h.stringToInteger=function(n){var t=(n=angular.isString(n)?n.trim():null)&&""!==n?parseInt(n):null;return c(t)?t:null},h.daysInMonth=n.daysInMonth,h.monthCollection=i.monthCollection,h.dateExists=function(n,t,r){return r<=h.daysInMonth(n,t)},h.updateModel=function(){var n=h.validateYear(h.year),t=h.validateMonth(h.month),r=h.validateDay(h.day),e=angular.isNumber(h.year)||angular.isNumber(h.month)||angular.isNumber(h.day);(h.required||e)&&(h.errorYear=!n,h.errorMonth=!t,h.errorDay=!r);var a=n&&t&&r?i.strToDate([h.year,i.addLeadingZeroMonth(h.month+1),i.addLeadingZeroDay(h.day)].join("-")):null;a?(h.input=a,h.valid=!0):(h.input=null,h.valid=!1)},h.validateYear=function(n){return!!c(n)&&(n>=h.minYear&&n<=h.maxYear)},h.validateMonth=function(n){if(!c(n))return!1;var t=c(h.year),r=t&&h.year===h.minYear,e=t&&h.year===h.maxYear;return n>=(r?h.minMonth:0)&&n<=(e?h.maxMonth:11)},h.validateDay=function(n){if(!c(n)||!h.validateMonth(h.month))return!1;var t=c(h.month),r=t&&h.year===h.minYear&&h.month===h.minMonth,e=t&&h.year===h.maxYear&&h.month===h.maxMonth;return n>=(r?h.minDay:0)&&n<=(e?h.maxDay:h.daysInMonth(h.year,h.month))},h.reset=function(){h.year=null,h.month=null,h.day=null,h.updateModel(),h.dirty=!1},h.init=function(n,t,r,e,a,i,u,o,l,m,s,d){h.minYear=e,h.maxYear=a,h.stepYear=c(i)&&0!==i?i:1,h.cntYear=Math.floor((a-e+1)/h.stepYear),h.minMonth=u,h.maxMonth=o,h.stepMonth=c(l)&&0!==l?l:1,h.cntMonth=Math.floor(12/h.stepMonth),h.minDay=m,h.maxDay=s,h.stepDay=c(d)&&0!==d?d:1,h.cntDay=Math.floor(31/h.stepDay),h.year=n,h.month=t,h.day=r,h.updateModel()}}]).controller("OnesiteTimeSelectorImpl",[function(){function l(n){return angular.isNumber(n)&&!isNaN(n)}var m=this;m.formatNumber=function(n){return("0"+n).slice(-2)};m.validateHour=function(n){return!!l(n)&&(n>=m.minHour&&n<=m.maxHour)},m.stringToInteger=function(n){var t=(n=angular.isString(n)?n.trim():null)&&""!==n?parseInt(n):null;return l(t)?t:null},m.validateMinute=function(n){if(!l(n))return!1;var t=l(m.hour),r=t&&m.hour===m.minHour,e=t&&m.hour===m.maxHour;return n>=(r?m.minMinute:0)&&n<=(e?m.maxMinute:59)},m.updateModel=function(){var n=m.validateHour(m.hour),t=m.validateMinute(m.minute),r=angular.isNumber(m.hour)||angular.isNumber(m.minute);(m.required||r)&&(m.errorHour=!n,m.errorMinute=!t);var e=n&&t?[m.formatNumber(m.hour),m.formatNumber(m.minute)].join(":"):null;e?(m.input=e,m.valid=!0):(m.input=null,m.valid=!1)},m.reset=function(){m.hour=null,m.minute=null,m.updateModel(),m.dirty=!1},m.init=function(n,t,r,e,a,i,u,o){m.minHour=l(r)?r:0,m.maxHour=l(e)?e:23,m.stepHour=l(a)&&0!==a?a:1,m.cntHour=Math.floor(24/m.stepHour),m.minMinute=l(i)?i:0,m.maxMinute=l(u)?u:60,m.stepMinute=l(o)&&0!==o?o:1,m.cntMinute=Math.floor(60/m.stepMinute),m.hour=m.validateHour(n)?n:null,m.minute=t,m.updateModel()}}]).controller("OnesiteDateRangeImpl",["timeService",function(r){function d(n){return angular.isNumber(n)&&!isNaN(n)}function c(n,t){n.setFullYear(n.getFullYear()+t)}function h(n,t){n.setMonth(n.getMonth()+t)}function f(n,t){r.addDay.call(n,t)}var M=this;M.init=function(n,t,r,e,a,i,u,o,l,m,s){d(r)?c(t,r):d(e)?h(t,e):d(a)&&f(t,a),d(o)?c(u,o):d(l)?h(t,l):d(m)&&f(u,m),M.date=n,M.dateMin=i&&i.getTime()>t.getTime()?i:t,M.dateMax=s&&s.getTime()<u.getTime()?s:u}}]).controller("OnesiteTimeRangeImpl",[function(){function c(n){var t=n.split(":");return{hour:parseInt(t[0]),minute:parseInt(t[1])}}function h(n){return-1<n.hour&&n.hour<24&&-1<n.minute&&n.minute<60}function f(n,t){return 60*t.hour+t.minute>=60*n.hour+n.minute}function M(n,t,r){var e={hour:n.hour+(angular.isNumber(t)&&!isNaN(t)?t:0),minute:n.minute+(angular.isNumber(r)&&!isNaN(r)?r:0)};return h(e)?e:n}var v=this;v.init=function(n,t,r,e,a,i,u){var o=c(n),l=c(angular.isString(t)&&h(c(t))?t:n),m=c(angular.isString(a)&&h(c(a))?a:n),s=M(l,r,e),d=M(m,i,u);f(s,d)?(v.time=o,v.min=s,v.max=d):f(l,m)?(v.time=o,v.min=l,v.max=m):(v.time=o,v.min=o,v.max=o)}}]);
"use strict";angular.module("onesite.moment.directives",[]).directive("onesiteCalendarEvent",["calendarEventService",function(i){return{scope:{type:"@",date:"=",title:"@",description:"=",summary:"@",filename:"@",analytics:"="},restrict:"E",templateUrl:"/onesite_modules/onesite-moment/partials/onesiteCalendarEvent.html",link:function(n){n.addToCalendar=function(e,t){(function(e,t){var n=this;if(angular.isFunction(navigator.msSaveOrOpenBlob)&&"googleCalendar"!==t){var a=i[t].makeEventList(n.calendarEventList,!0);navigator.msSaveOrOpenBlob(a,n.filename+"."+t)}else angular.element(e.target).attr("href",i[t].makeEvent(n.date,n.summary,n.description))}).call(n,e,t)}}}}]).directive("onesiteCalendarEventList",["calendarEventService",function(a){var i="ics";return{scope:{calendarEventList:"=",filename:"@",analytics:"="},restrict:"E",templateUrl:"/onesite_modules/onesite-moment/partials/onesiteCalendarEventList.html",transclude:!0,replace:!0,link:function(e,t){e.addToCalendar=function(){(function(e){var t=this;if(angular.isFunction(navigator.msSaveOrOpenBlob)){var n=a[i].makeEventList(t.calendarEventList,!0);navigator.msSaveOrOpenBlob(n,t.filename+"."+i)}else angular.element(e).attr("href",a[i].makeEventList(t.calendarEventList))}).call(e,t)}}}}]).directive("onesiteDateAdd",[function(){return{restrict:"E",replace:!1,scope:{date:"=",year:"=",month:"=",day:"=",model:"="},controller:"OnesiteDateAddImpl as onesiteDateAddImpl",template:'<div ng-repeat="dateWatch in [date]" ng-init="onesiteDateAddImpl.add(dateWatch, year, month, day)"/>',link:function(e,t,n,a){e.model=a}}}]).directive("onesiteDateSelector",["$timeout",function(i){function r(e){angular.isFunction(e.setAttribute)&&angular.element(e).prop("selected",!0)}function o(e){angular.isFunction(e.setAttribute)&&angular.element(e).prop("selected",!1)}return{restrict:"E",replace:!0,scope:{required:"=",disabled:"=forceDisabled",form:"@",idPrepend:"@",year:"=",minYear:"=",maxYear:"=",stepYear:"=",month:"=",minMonth:"=",maxMonth:"=",stepMonth:"=",day:"=",minDay:"=",maxDay:"=",stepDay:"=",reset:"=",model:"="},controller:"OnesiteDateSelectorImpl as onesiteDateSelectorImpl",templateUrl:"/onesite_modules/onesite-moment/partials/onesiteDateSelector.html",link:function(e,t,n,a){a.required=e.required,e.model=a,e.selection={year:null,month:null,day:null},e.reset=function(){return angular.forEach(t.find("option"),o),function(){var e=this;e.selection.year=null,e.selection.month=null,e.selection.day=null}.call(e),a.reset(),!0},e.focusNextError=function(){i(function(){var e=t.find('[has-error="true"]')[0];e&&angular.isFunction(e.focus)&&e.focus()},0,!1)},i(function(){a.init(e.year,e.month,e.day,e.minYear,e.maxYear,e.stepYear,e.minMonth,e.maxMonth,e.stepMonth,e.minDay,e.maxDay,e.stepDay),i(function(){angular.forEach(t.find('[fix-selected="true"]'),r)},0)},0)}}}]).directive("onesiteTimeSelector",["$timeout",function(i){return{restrict:"E",replace:!0,scope:{type:"@",required:"=",disabled:"=forceDisabled",form:"@",idPrepend:"@",hour:"=",minHour:"=",maxHour:"=",stepHour:"=",minute:"=",minMinute:"=",maxMinute:"=",stepMinute:"=",reset:"=",model:"="},controller:"OnesiteTimeSelectorImpl as onesiteTimeSelectorImpl",templateUrl:"/onesite_modules/onesite-moment/partials/onesiteTimeSelector.html",link:function(e,t,n,a){a.required=e.required,a.type=e.type,a.init(e.hour,e.minute,e.minHour,e.maxHour,e.stepHour,e.minMinute,e.maxMinute,e.stepMinute),e.model=a,e.selection={hour:null,minute:null},e.reset=function(){return e.selection.hour=null,e.selection.minute=null,a.reset(),!0},e.focusNextError=function(){i(function(){var e=t.find('[has-error="true"]')[0];e&&angular.isFunction(e.focus)&&e.focus()},0,!1)}}}}]).directive("onesiteTimeRange",["stringService",function(t){function r(e){return""===(e=angular.isString(e)?e.trim():null)?null:t.convertTo24Hr(e)}return{restrict:"E",scope:{type:"@",time:"@",timeMin:"@",timeMax:"@",timeMinMinuteOffset:"=",timeMinHourOffset:"=",timeMaxMinuteOffset:"=",timeMaxHourOffset:"=",model:"="},replace:!1,controller:"OnesiteTimeRangeImpl as onesiteTimeRangeImpl",link:function(e,t,n,a){if(e.time=r(e.time),e.timeMin=r(e.timeMin),e.timeMax=r(e.timeMax),!angular.isString(e.time)){var i=new Date;e.time=[i.getHours(),i.getMinutes()].join(":")}a.init(e.time,e.timeMin,e.timeMinHourOffset,e.timeMinMinuteOffset,e.timeMax,e.timeMaxHourOffset,e.timeMaxMinuteOffset),e.model=a}}}]).directive("onesiteDateRangeImpl",["timeService","stringService",function(e,d){function c(e){return d.strToDate([d.addLeadingZeroYear(e.getFullYear()),d.addLeadingZeroMonth(e.getMonth()+1),d.addLeadingZeroDay(e.getDate())].join("-"))}return{restrict:"E",scope:!1,replace:!0,transclude:!0,controller:"OnesiteDateRangeImpl as onesiteDateRangeImpl",template:"<div ng-transclude></div>",link:function(e,t,n,a){var i=d.strToDate(e.date)||c(new Date),r=d.strToDate(e.dateMin)||c(i),o=d.strToDate(e.dateMinFloor),l=d.strToDate(e.dateMax)||c(r),s=d.strToDate(e.dateMaxCeil);a.init(i,r,e.dateMinYearOffset,e.dateMinMonthOffset,e.dateMinDayOffset,o,l,e.dateMaxYearOffset,e.dateMaxMonthOffset,e.dateMaxDayOffset,s),e.model=a}}}]).directive("onesiteGenericDateRange",["timeService",function(i){return{restrict:"E",scope:!1,replace:!0,require:"^onesiteDateRangeImpl",link:function(e,t,n,a){a.dateMinStr=i.localDateToString.call(a.dateMin),a.dateMaxStr=i.localDateToString.call(a.dateMax)}}}]).directive("onesiteFisicalDateRange",["timeService","stringService",function(i,n){function r(e){var t=n.strToDate([n.addLeadingZeroYear(e.getFullYear()),n.addLeadingZeroMonth(e.getMonth()+1),n.addLeadingZeroDay(e.getDate())].join("-"));return t.setDate(1),t.setMonth(3),e.getTime()<t.getTime()&&t.setFullYear(t.getFullYear()-1),t}return{restrict:"E",scope:!1,replace:!0,require:"^onesiteDateRangeImpl",link:function(e,t,n,a){a.date=r(a.date),a.dateMin=r(a.dateMin),a.dateMax=r(a.dateMax),a.dateMax=i.addDay.call(a.dateMax,-1),a.dateMinStr=i.localDateToString.call(a.dateMin),a.dateMaxStr=i.localDateToString.call(a.dateMax)}}}]).directive("onesiteTaxDateRange",["timeService","stringService",function(i,n){function r(e){var t=n.strToDate([n.addLeadingZeroYear(e.getFullYear()),n.addLeadingZeroMonth(e.getMonth()+1),n.addLeadingZeroDay(e.getDate())].join("-"));return t.setDate(1),t.setMonth(0),t}return{restrict:"E",scope:!1,replace:!0,require:"^onesiteDateRangeImpl",link:function(e,t,n,a){a.date=r(a.date),a.dateMin=r(a.dateMin),a.dateMax=r(a.dateMax),a.dateMax=i.addYear.call(a.dateMax,1),a.dateMax=i.addDay.call(a.dateMax,-1),a.dateMinStr=i.localDateToString.call(a.dateMin),a.dateMaxStr=i.localDateToString.call(a.dateMax)}}}]);
/*
     FILE ARCHIVED ON 09:18:04 Mar 05, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:40:28 Mar 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  PetaboxLoader3.resolve: 90.025
  load_resource: 120.707
  esindex: 0.021
  PetaboxLoader3.datanode: 109.561 (5)
  exclusion.robots.policy: 0.241
  CDXLines.iter: 142.861 (4)
  RedisCDXSource: 2.904
  exclusion.robots: 0.26
  LoadShardBlock: 110.339 (4)
  captures_list: 2018.045
*/