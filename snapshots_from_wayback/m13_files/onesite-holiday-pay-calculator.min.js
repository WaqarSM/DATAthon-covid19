"use strict";angular.module("onesite.holiday.pay.calculator",["onesite.holiday.pay.calculator.services","onesite.holiday.pay.calculator.controllers","onesite.holiday.pay.calculator.directives"]);
"use strict";angular.module("onesite.holiday.pay.calculator.directives",[]).directive("onesiteHolidayPayCalculator",["weekLabels","getDateObject","languageService","daysFromToday","selectedCheckboxes","formatDateForAnalytics","differenceInDays","subdayOptions",function(a,t,o,l,s,c,i,r){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/onesite_modules/onesite-holiday-pay-calculator/partials/onesiteHolidayPayCalculator.html",link:function(e){e.language=o.currentLanguage.get(),e.weekLabels=a,e.daysFromToday=l,e.getDateObject=t,e.selectedCheckboxes=s,e.formatDateForAnalytics=c,e.differenceInDays=i,e.subdayOptions=r}}}]);
"use strict";angular.module("onesite.holiday.pay.calculator.controllers",[]).controller("OnesiteHolidayPayCalculatorImpl",["$scope","holidaysOfTheYearService","languageService","differenceInDays","$timeout",function(m,e,a,i,t){var c=a.currentLanguage.get();m.holidaysOptions=e,m.holidaySelect=m.holidaysOptions[c][1],t(function(e){for(var a=new Date,t=e.holidaysOptions[c],n=0,o=0;o<t.length;o++)if(t[o].date<a){n=o;break}e.holidaySelect=t[n],$("#holiday").val(t[n].name)},0,!0,m),m.daySelectOptions={fr:[{value:0,day:"Dimanche"},{value:1,day:"Lundi"},{value:2,day:"Mardi"},{value:3,day:"Mercredi"},{value:4,day:"Jeudi"},{value:5,day:"Vendredi"},{value:6,day:"Samedi"}],en:[{value:0,day:"Sunday"},{value:1,day:"Monday"},{value:2,day:"Tuesday"},{value:3,day:"Wednesday"},{value:4,day:"Thursday"},{value:5,day:"Friday"},{value:6,day:"Saturday"}]},m.daySelect=m.daySelectOptions[c][0],m.gross1=0,m.gross2=0,m.gross3=0,m.gross4=0,m.submonthOptions={fr:[{value:0,month:"janvier"},{value:1,month:"février"},{value:2,month:"mars"},{value:3,month:"avril"},{value:4,month:"mai"},{value:5,month:"juin"},{value:6,month:"juillet"},{value:7,month:"août"},{value:8,month:"septembre"},{value:9,month:"octobre"},{value:10,month:"novembre"},{value:11,month:"décembre"}],en:[{value:0,month:"January"},{value:1,month:"February"},{value:2,month:"March"},{value:3,month:"April"},{value:4,month:"May"},{value:5,month:"June"},{value:6,month:"July"},{value:7,month:"August"},{value:8,month:"September"},{value:9,month:"October"},{value:10,month:"November"},{value:11,month:"December"}]},m.submonth=m.submonthOptions[c][0];var n=new Date;n=n.getFullYear(),m.subyearOptions=[n,n-1,n-2],m.periodYearOptions=[n,n-1,n-2],m.subyear=m.subyearOptions[0],m.subday=1,m.regularWages=0,m.generateCalendar=function(e,a,t,n,o,l){for(var u=new Date(e,a,t),r=new Date(n,o,l),d=[],i=[],s=u,h=function(e){var a=new Date(this.valueOf());return a.setDate(a.getDate()+e),a},v=0;v<s.getDay();v++)i.push({});for(;s<=r;){if(i.push({num:s.getDate(),month:m.submonthOptions[c][s.getMonth()].month}),r<(s=h.call(s,1))&&i.length<7)for(var y=i.length;y<7;y++)i.push({});7===i.length&&(d.push(i),i=[])}return setTimeout(function(){$(document).foundation()},100),d},m.validateCalendar=function(e,a,t,n,o,l,u){var r=new Date(e,a,t),d=new Date(n,o,l);return u<r?4:d.getTime()<r.getTime()?1:92<i(e,a,t,n,o,l)?2:t&&l?0:3},m.defaultDates=function(e,a){var t=new Date(e);t.setDate(t.getDate()-1);var n=new Date(e);n.setDate(n.getDate()-14);var o=m.submonthOptions[a].find(function(e){return e.value===n.getMonth()}),l=m.submonthOptions[a].find(function(e){return e.value===t.getMonth()});return{startYear:n.getFullYear(),startMonth:o,startDay:n.getDate(),endYear:t.getFullYear(),endMonth:l,endDay:t.getDate()}},m.periodStartDay=m.defaultDates(m.holidaySelect.date,c).startDay,m.periodEndDay=m.defaultDates(m.holidaySelect.date,c).endDay,m.periodStartMonth=m.defaultDates(m.holidaySelect.date,c).startMonth,m.periodEndMonth=m.defaultDates(m.holidaySelect.date,c).endMonth,m.periodStartYear=m.defaultDates(m.holidaySelect.date,c).startYear,m.periodEndYear=m.defaultDates(m.holidaySelect.date,c).endYear}]);
"use strict";angular.module("onesite.holiday.pay.calculator.services",[]).factory("holidayPayService",["holidayService",function(c){var e={givenYearHolidays:function(e){var n=c.holidaysList(e),t={en:[],fr:[]};var r,a,o,u={weekday:"long",month:"long",day:"numeric"},i={weekday:"long",day:"numeric",month:"long"};for(var f in n)if(n.hasOwnProperty(f)&&!0===n[f].stat){var s=new Date(n[f].date);a=n,o=s,(r=t).en.push({name:a[f].english+" - "+o.toLocaleDateString("en-CA",u)+", "+e,group:""+e,date:o.getTime()}),r.fr.push({name:a[f].french+" - "+o.toLocaleDateString("fr-CA",i)+" "+e,group:""+e,date:o.getTime()})}return t.en.reverse(),t.fr.reverse(),t}};return e}]).factory("holidaysOfTheYearService",["holidayPayService",function(e){var n=new Date,t=function(e,n){for(var t in n)if(n.hasOwnProperty(t))for(var r=0;r<n[t].length;r++)e[t].push(n[t][r]);return e}(e.givenYearHolidays(n.getFullYear()),e.givenYearHolidays(n.getFullYear()-1));return t.en.push({name:"Substitute holiday or older holiday"}),t.fr.push({name:"Congé compensatoire ou jour férié passé"}),t}]).factory("weekLabels",[function(){return function(e,n,t,r){t=5-t;var a=new Date;e=new Date(e),a.setTime(e.getTime()-864e5*(7*t+6));var o,u,i,f=new Date(a.getTime()+864e5*(o=n,u=a.getDay(),(i=o-u)<0&&(i+=7),i)),s=new Date(f.getTime()+5184e5),c=[{en:"Jan",fr:"jan"},{en:"Feb",fr:"fév"},{en:"Mar",fr:"mars"},{en:"Apr",fr:"avr"},{en:"May",fr:"mai"},{en:"Jun",fr:"juin"},{en:"Jul",fr:"juil"},{en:"Aug",fr:"août"},{en:"Sep",fr:"sep"},{en:"Oct",fr:"oct"},{en:"Nov",fr:"nov"},{en:"Dec",fr:"déc"}];return"fr"===r?f.getDate()+"&nbsp;"+c[f.getMonth()].fr+" au "+s.getDate()+"&nbsp;"+c[s.getMonth()].fr:c[f.getMonth()].en+"&nbsp;"+f.getDate()+" to "+c[s.getMonth()].en+"&nbsp;"+s.getDate()}}]).factory("daysFromToday",[function(){return function(e){var n=new Date,t=new Date(e);return Math.round(Math.abs((n.getTime()-t.getTime())/864e5))}}]).factory("getDateObject",[function(){return function(e,n,t){return new Date(e,n,t,0,0,0,0)}}]).factory("selectedCheckboxes",[function(){return function(e){for(var n=0,t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)e[t][r].hasOwnProperty("selected")&&!0===e[t][r].selected&&(n+=1);return n}}]).factory("formatDateForAnalytics",[function(){return function(e){var n=new Date(e),t=""+(n.getMonth()+1),r=""+n.getDate(),a=n.getFullYear();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[a,t,r].join("-")}}]).factory("differenceInDays",[function(){return function(e,n,t,r,a,o){var u=new Date(e,n,t),i=new Date(r,a,o);return Math.round(Math.abs((u.getTime()-i.getTime())/864e5))}}]).factory("subdayOptions",[function(){return function(e,n){var t,r=[],a=1;if(1===n.value)if(e%4==0)for(t=1;t<30;t++)r.push(a),a++;else for(t=1;t<29;t++)r.push(a),a++;else if(3===n.value||5===n.value||8===n.value||10===n.value)for(t=1;t<31;t++)r.push(a),a++;else for(t=1;t<32;t++)r.push(a),a++;return r}}]);
/*
     FILE ARCHIVED ON 20:44:00 Mar 13, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:31:06 Mar 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  LoadShardBlock: 662.238 (4)
  PetaboxLoader3.resolve: 65.649 (2)
  captures_list: 1411.796
  RedisCDXSource: 1.681
  exclusion.robots.policy: 0.183
  PetaboxLoader3.datanode: 662.515 (6)
  esindex: 0.009
  CDXLines.iter: 74.626 (4)
  load_resource: 94.19
  exclusion.robots: 0.197
*/