"use strict";angular.module("onesite.live.chat",["onesite.live.chat.directives","onesite.live.chat.services"]);
"use strict";angular.module("onesite.live.chat.directives",[]).directive("onesiteLiveChat",["redirectService","liveChatService","scopeService","stringService","$parse",function(a,i,n,l,e){var o=e("node.content.id"),r=e("node.content.lang"),s={en:"https://web.archive.org/web/20200317165031/https://www.webchat.ccm2.gov.on.ca/EO_Webchat/iceMessagingWeb/Chat.html?destinationURI=sip:im_990a_sw03@ccm2.gov.on.ca&lang=en-CA",fr:"https://web.archive.org/web/20200317165031/https://www.webchat.ccm2.gov.on.ca/EO_Webchat/iceMessagingWeb/Chat.html?destinationURI=sip:im_990a_sw03@ccm2.gov.on.ca&lang=fr-CA"},c={en:"page/employment-ontario-live-chat",fr:"fr/page/clavardage-avec-emploi-ontario"},u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{restrict:"E",transclude:!0,scope:{title:"@"},replace:!0,templateUrl:function(e,t){var a=angular.isString(t.type)?angular.lowercase(t.type.trim()):null;return"body"===a?"/onesite_modules/onesite-live-chat/partials/type-body.html":"right"===a?"/onesite_modules/onesite-live-chat/partials/type-right.html":"info"===a?"/onesite_modules/onesite-live-chat/partials/type-info-page.html":"/onesite_modules/onesite-live-chat/partials/type-body.html"},link:function(t){var e=o(n.getMainController());t.lang=r(n.getMainController()),t.urlLiveChat=s,t.urlLiveChatInfo=c,t.aliasToPath=a.aliasToPath,i.businessHourHandler.submit(e).then(function(e){t.businessHour=e,t.nextAvailable=e.nextAvailable?{day:u[e.nextAvailable.getDay()],hour:e.nextAvailable.getHours(),minute:l.addLeadingZeroMonth(e.nextAvailable.getMinutes())}:null})}}}]);
"use strict";angular.module("onesite.live.chat.services",[]).factory("liveChatDaoService",["$http","$q","apiEndpointConfig","getterFactory","dataBindingService",function(a,t,n,r,o){var e={},u={isAvailable:r.instantiate("data.isAvailable"),nextAvailable:function(e){var i=r.instantiate("data.nextAvailable")(e);return angular.isString(i)&&""!==i.trim()&&(i=parseInt(i)),angular.isNumber(i)?new Date(1e3*i):null}};return e.api=function(){var e=[n["onesite.live.chat"].apiServiceCrossDomain,n["onesite.live.chat"].apiService].join("/"),i=t.defer();return a({url:e,method:"GET"}).then(function(e){i.resolve(o.bindData(e,u))},function(){i.reject()}),i.promise},e}]).factory("liveChatService",["liveChatDaoService",function(n){var e={};return e.businessHourHandler=new function(){return{submit:function(e){var i;return i=e,angular.isString(a)&&i===a||(a=e,t=n.api()),t}};var a,t},e}]);
/*
     FILE ARCHIVED ON 16:50:31 Mar 17, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:31:48 Mar 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  esindex: 0.012
  exclusion.robots.policy: 0.185
  LoadShardBlock: 55.685 (4)
  captures_list: 1141.116
  exclusion.robots: 0.2
  CDXLines.iter: 111.085 (4)
  PetaboxLoader3.datanode: 99.828 (6)
  RedisCDXSource: 82.598
  PetaboxLoader3.resolve: 119.225 (2)
  load_resource: 173.16
*/